<div class="grid grid-cols-1 lg:grid-cols-[30%_70%] h-full">
  <!-- Left Sidebar: Welcome Component -->
  <app-welcome-user class="hidden lg:block bg-primary-light text-primary-dark p-6"></app-welcome-user>

  <!-- Main Content Area -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    <!-- Trip of the Day Section -->
    <div class="bg-secondary-light text-secondary-dark rounded-lg p-6 shadow-md mb-6 flex items-center justify-center">
      @if (tripOfTheDay$ | async; as tripOfTheDay) {
        <div class="text-center">
          <h1 class="text-3xl font-bold mb-4">Trip of the Day</h1>
          <app-card [trip]="tripOfTheDay" (cardClick)="navigateToDetail($event)"></app-card>
        </div>
      } @else {
        <div class="text-center">
          <h1 class="text-2xl font-semibold mb-4">Want to know the trip of the day?</h1>
          <button
            class="bg-primary hover:bg-primary-dark text-white py-2 px-4 rounded-md"
            (click)="getTripOfTheDay()"
          >
            Get Trip of the Day
          </button>
        </div>
      }
    </div>

    <!-- Trips List Section -->
    <div>
      <h1 class="text-3xl font-bold text-gray-800 mb-6">Trips</h1>

      <!-- Filters and Sorting -->
      <div class="flex flex-col sm:flex-row gap-4 items-center mb-6 bg-info-light p-4 rounded-md shadow-md">
        <!-- Title Filter -->
        <input
          type="text"
          placeholder="Filter by title..."
          class="p-2 border border-gray-300 rounded-md flex-1"
          [(ngModel)]="titleFilter"
        />
        <button
          (click)="fetchTrips()"
          class="bg-info hover:bg-info-dark text-white px-4 py-2 rounded-md"
        >
          Apply Filter
        </button>

        <!-- Sort Options -->
        <select
          (change)="onSortChange($event)"
          class="p-2 border border-gray-300 rounded-md"
        >
          <option value="">-- Sort By --</option>
          <option value="title">Title</option>
          <option value="price">Price</option>
          <option value="creationDate">Creation Date</option>
          <option value="rating">Rating</option>
        </select>

        <button
          (click)="toggleSortOrder()"
          class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md"
        >
          Toggle Order: {{ sortOrder }}
        </button>
      </div>

      <!-- Trips Grid -->
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        @for (trip of trips$ | async; track trip) {
          <app-card [trip]="trip" (cardClick)="navigateToDetail($event)"></app-card>
        }
      </div>
    </div>
  </div>
</div>
