<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">

  @if (tripOfTheDay$ | async; as tripOfTheDay) {
    <h1 class="text-3xl font-bold text-gray-800 mb-6">Trip of the day!</h1>
    <div class="flex items-center gap-4 mb-6">
      <app-card [trip]="tripOfTheDay" (cardClick)="navigateToDetail($event)"></app-card>
    </div>
  } @else {
    <button
    class="p-2 bg-purple-500 text-white rounded-md mb-6"
    (click)="getTripOfTheDay()"
  >
    Get our Trip of the Day!
  </button>
  }
  <h1 class="text-3xl font-bold text-gray-800 mb-6 ">Trips</h1>
  <div class="flex flex-col sm:flex-row gap-4 items-center mb-6">
    <!-- Title Filter -->
    <input
      type="text"
      placeholder="Filter by title..."
      class="p-2 border border-gray-300 rounded-md flex-1"
      [(ngModel)]="titleFilter"
    />
    <button
      (click)="fetchTrips()"
      class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md"
    >
      Apply Filter
    </button>
  
    <!-- Sort Options -->
    <select
      (change)="onSortChange($event)"
      class="p-2 border border-gray-300 rounded-md"
    >
      <option value="">-- Sort By --</option>
      <option value="title">Title</option>
      <option value="price">Price</option>
      <option value="creationDate">Creation Date</option>
      <option value="rating">Rating</option>
    </select>
  
    <button
      (click)="toggleSortOrder()"
      class="bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md"
    >
      Toggle Order: {{ sortOrder }}
    </button>
  </div>
  
  @if (trips$ | async ) {
  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
    @for (trip of trips$ | async; track trip) {
    <app-card [trip]="trip" (cardClick)="navigateToDetail($event)"></app-card>
    }
  </div>
  } @else {
  <ng-template #noTrips>
    <p class="text-gray-500 text-center">No trips available.</p>
  </ng-template>
  }
</div>
